tech = "sky130A"
grid = 0.005

# ratio of PMOS to NMOS widths for unit inverter
beta = 1.54

# ratio of Cd / Cg
gamma = 1.3

spacing = [
  { from = "ndiff", to = "nwell", dist = 0.34 },
  { from = "gate", to = "licon", dist = 0.055 }, # gate to source/drain contacts
  { from = "licon", to = "pdiff", dist = 0.235 },
]

[layers]

[layers.nwell]
desc = "define nwell for placing PMOS transistors"
width = 0.84
space = 1.27
area = 0.0

[layers.ntap]
desc = "define n+ taps to nwell"
width = 0.15
space = 0.27
area = 0.0
enclosures = [
  { layer = "nwell", enclosure = 0.18, one_side = false },
]

[layers.ptap]
desc = "define p+ taps to substrate"
width = 0.15
space = 0.27
area = 0.0
enclosures = [
  { layer = "pwell", enclosure = 0.13, one_side = false },
]

[layers.poly]
desc = "define transistor gates"
width = 0.15
space = 0.21
area = 0.0
extensions = [
  { layer = "ndiff", extend = 0.13 },
  { layer = "pdiff", extend = 0.13 },
]

[layers.ct]
desc = "contact between li and m1"
width = 0.17
space = 0.19
area = 0.0289
enclosures = [
  { layer = "m1", enclosure = 0.03, one_side = false },
  { layer = "m1", enclosure = 0.06, one_side = true },
]

[layers.li]
desc = "local interconnect"
width = 0.17
space = 0.17
area = 0.0561

[layers.licon]
desc = "defines contacts between poly/diff/tap and local interconnect"
width = 0.17
space = 0.17
area = 0.0289
enclosures = [
  { layer = "ndiff", enclosure = 0.04, one_side = false },
  { layer = "pdiff", enclosure = 0.04, one_side = false },
  { layer = "ndiff", enclosure = 0.06, one_side = true },
  { layer = "pdiff", enclosure = 0.06, one_side = true },
  { layer = "poly", enclosure = 0.05, one_side = false },
  { layer = "poly", enclosure = 0.08, one_side = true },
  { layer = "li", enclosure = 0.08, one_side = true },
  { layer = "ntap", enclosure = 0.12, one_side = true },
  { layer = "ntap", enclosure = 0.04, one_side = false },
  { layer = "ptap", enclosure = 0.12, one_side = true },
  { layer = "ptap", enclosure = 0.04, one_side = false },
]

[layers.pdiff]
desc = "pmos diffusion regions"
width = 0.15
space = 0.27
area = 0.063
enclosures = [
  { layer = "nwell", enclosure = 0.18, one_side = false },
]
extensions = [
  { layer = "poly", extend = 0.25 },
]

[layers.ndiff]
desc = "nmos diffusion regions"
width = 0.15
space = 0.27
area = 0.063
enclosures = [
  { layer = "nwell", enclosure = 0.18, one_side = false },
]
extensions = [
  { layer = "poly", extend = 0.25 },
]

[layers.m1]
desc = "first level of metal interconnects"
width = 0.14
space = 0.14
area = 0.083

[layers.via1]
desc = "defines contacts between metal 1 and metal 2"
width = 0.26
space = 0.06
area = 0.0676
enclosures = [
  { layer = "m1", enclosure = 0.03, one_side = true },
  { layer = "m2", enclosure = 0.03, one_side = true },
]

[layers.m2]
desc = "first level of metal interconnects"
width = 0.14
space = 0.14
area = 0.0676

[stacks]

[stacks.nsubdiffc]
top_layer = "li"
top_drc = "li"
contact_layer = "nsubdiffc"
contact_drc = "licon"
bot_layer = "nsubdiff"
bot_drc = "ntap"

[stacks.polyc]
top_layer = "li"
top_drc = "li"
contact_layer = "polyc"
contact_drc = "licon"
bot_layer = "li"
bot_drc = "li"

[stacks.viali]
top_layer = "m1"
top_drc = "m1"
contact_layer = "viali"
contact_drc = "ct"
bot_layer = "li"
bot_drc = "li"

[stacks.via1]
top_layer = "m2"
top_drc = "m2"
contact_layer = "via1"
contact_drc = "via1"
bot_layer = "m1"
bot_drc = "m1"
